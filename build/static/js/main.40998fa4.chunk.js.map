{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","Persons","persons","map","id","Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","classId","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","setClassId","useEffect","personService","initialPersons","personsToShow","toLowerCase","includes","event","target","preventDefault","findIndex","find","p","changedPerson","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"gMAWeA,EATA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACtB,OACI,+BACKD,EAAOE,KADZ,IACmBF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,wBCWGI,EAdC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASL,EAAmB,EAAnBA,aACxB,OACI,6BACCK,EAAQC,KAAI,SAAAP,GAAM,OACjB,cAAC,EAAD,CAEEA,OAAQA,EACRC,aAAc,kBAAMA,EAAaD,EAAOQ,MAFnCR,EAAOE,YCQTO,EAdA,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,mBACtB,OACI,+BACE,oDAEE,uBACEC,MAAOF,EACPG,SAAUF,UCiBTG,EAxBI,SAAC,GAA6E,IAA3EC,EAA0E,EAA1EA,UAAWC,EAA+D,EAA/DA,QAASC,EAAsD,EAAtDA,iBAAkBC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,mBACnE,OACI,uBAAMC,SAAUL,EAAhB,UACA,wCAEE,uBACEH,MAAOI,EACPH,SAAUI,OAGd,0CAEE,uBACEL,MAAOM,EACPL,SAAUM,OAGd,8BACE,wBAAQE,KAAK,SAAb,uB,gBCnBJC,EAAU,0DAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVM,SAAEnB,GAEnB,OADgBe,IAAMO,OAAN,UAAgBR,EAAhB,YAA2Bd,IAC5BiB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAAEnB,EAAIoB,GAEjB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBd,GAAMoB,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCN9BK,EAZM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAC7B,OAAe,OAAZD,EACQ,KAIP,qBAAKE,UAAWD,EAAhB,SACKD,KC2HEG,G,MA5HH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACR/B,EADQ,KACCgC,EADD,OAEgBD,mBAAS,IAFzB,mBAERrB,EAFQ,KAECuB,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRnB,EAHQ,KAGGsB,EAHH,OAIcH,mBAAS,IAJvB,mBAIR3B,EAJQ,KAIA+B,EAJA,OAK0BJ,mBAAS,MALnC,mBAKRK,EALQ,KAKMC,EALN,OAMgBN,mBAASK,GANzB,mBAMRR,EANQ,KAMCU,EAND,KAQhBC,qBAAU,WACRC,IAEGrB,MAAK,SAAAsB,GAAc,OAAIT,EAAWS,QACpC,IAEH,IAmFMC,EAA2B,KAAXtC,EAClBJ,EACAA,EAAQI,QAAO,SAAAV,GAAM,OAAIA,EAAOE,KAAK+C,cAAcC,SAASxC,EAAOuC,kBAEvE,OACE,gCACE,2CACA,cAAC,EAAD,CAAchB,QAASS,EAAcR,QAASA,IAC9C,cAAC,EAAD,CAAQxB,OAAQA,EAAQC,mBAZD,SAACwC,GAC1BV,EAAUU,EAAMC,OAAOxC,UAYrB,2CACA,cAAC,EAAD,CACEG,UA9FY,SAACoC,GAGjB,GAFAA,EAAME,iBAEH/C,EAAQgD,WAAU,SAAAtD,GAAM,OAAIA,EAAOE,OAASc,MAAY,EAAG,CAC5D,IAAMhB,EAASM,EAAQiD,MAAK,SAAAC,GAAC,OAAIA,EAAEtD,OAASc,KACtCyC,EAAa,2BAAQzD,GAAR,IAAgBG,OAAQe,IAE3C4B,EACU9C,EAAOQ,GAAIiD,GAClBhC,MAAK,SAAAiC,GACJd,EAAW,gBACXD,EAAgB,GAAD,OACVc,EAAcvD,KADJ,oCACoCuD,EAActD,SAEjEwD,YAAW,WACThB,EAAgB,QACf,KAEHL,EAAWhC,EAAQC,KAAI,SAAAP,GAAM,OAAIA,EAAOQ,KAAOiD,EAAcjD,GAAKR,EAAS0D,SAE5EE,OAAM,SAAAC,GACLjB,EAAW,SACXD,EAAgB,GAAD,OACVc,EAAcvD,KADJ,yCAGfyD,YAAW,WACThB,EAAgB,QACf,KACHL,EAAWhC,EAAQI,QAAO,SAAA8C,GAAC,OAAIA,EAAEhD,KAAOiD,EAAcjD,cAGrD,CAMLsC,EALqB,CACnB5C,KAAMc,EACNb,OAAQe,IAKPO,MAAK,SAAAiC,GACJd,EAAW,gBACXD,EAAgB,GAAD,OACVe,EAAexD,KADL,gCAGfyD,YAAW,WACThB,EAAgB,QACf,KACHL,EAAWhC,EAAQwD,OAAOJ,OAIhCnB,EAAW,IACXC,EAAa,KA2CTxB,QAASA,EACTC,iBAzBmB,SAACkC,GACxBZ,EAAWY,EAAMC,OAAOxC,QAyBpBM,UAAWA,EACXC,mBAvBqB,SAACgC,GAC1BX,EAAaW,EAAMC,OAAOxC,UAwBxB,yCACA,cAAC,EAAD,CACEN,QAAS0C,EACT/C,aAhDe,SAAAO,GACnB,IAAMR,EAASM,EAAQiD,MAAK,SAAAC,GAAC,OAAIA,EAAEhD,KAAOA,KAC1CsC,EACgBtC,GACbiB,MAAK,SAAAiC,GACJd,EAAW,gBACXD,EAAgB,GAAD,OACV3C,EAAOE,KADG,oCAGfyD,YAAW,WACThB,EAAgB,QACf,KACHL,EAAWhC,EAAQI,QAAO,SAAA8C,GAAC,OAAIA,EAAEhD,KAAOA,iBCrFhDuD,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.40998fa4.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n    return (\n        <li>\n            {person.name} {person.number}\n            <button onClick={deletePerson}>delete</button>\n        </li>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, deletePerson }) => {\n    return (\n        <ul>\n        {persons.map(person =>\n          <Person \n            key={person.name} \n            person={person}\n            deletePerson={() => deletePerson(person.id)}\n         />\n        )}\n      </ul>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n    return (\n        <form>\n          <div>\n            filter shown with \n            <input\n              value={filter}\n              onChange={handleFilterChange}\n            />\n          </div>\n        </form>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n    return (\n        <form onSubmit={addPerson}>\n        <div>\n          name: \n          <input \n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number:\n          <input \n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = 'https://enigmatic-inlet-46339.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = ( id ) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = ( id, newObject ) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, update }","import React from 'react'\n\nconst Notification = ({ message, classId }) => {\n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className={classId}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/contacts'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ classId, setClassId ] = useState(notification)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if(persons.findIndex(person => person.name === newName) >= 0) {\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber }\n\n      personService\n        .update(person.id, changedPerson)\n        .then(returnedPerson => {\n          setClassId('notification')\n          setNotification(\n            `${changedPerson.name}'s number was updated to ${changedPerson.number}`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n\n          setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n        })\n        .catch(error => {\n          setClassId('error')\n          setNotification(\n            `${changedPerson.name} was already removed from the server`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== changedPerson.id))\n        })\n\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setClassId('notification')\n          setNotification(\n            `${returnedPerson.name} was added to the Phonebook`\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setPersons(persons.concat(returnedPerson))\n        })\n\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id)\n    personService\n      .deletePerson(id)\n      .then(returnedPerson => {\n        setClassId('notification')\n        setNotification(\n          `${person.name} was deleted from the Phonebook`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n        setPersons(persons.filter(p => p.id !== id))\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const personsToShow = filter === ''\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} classId={classId} />\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n      <h2>Add a new</h2>\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} \n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={personsToShow} \n        deletePerson={deletePerson} \n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}